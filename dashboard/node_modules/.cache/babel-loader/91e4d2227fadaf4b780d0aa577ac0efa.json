{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nexport var useResetFormOnCloseModal = function useResetFormOnCloseModal(_ref) {\n  _s();\n\n  var form = _ref.form,\n      visible = _ref.visible;\n  var prevVisibleRef = useRef();\n  useEffect(function () {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  var prevVisible = prevVisibleRef.current;\n  useEffect(function () {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n\n_s(useResetFormOnCloseModal, \"Eir/24wBpH6wiZ+UUblFXmTRQI0=\");","map":{"version":3,"sources":["/home/tj/fl-carla/dashboard/src/components/forms/ControlForm/useResetFormOnCloseModal.ts"],"names":["useEffect","useRef","useResetFormOnCloseModal","form","visible","prevVisibleRef","current","prevVisible","resetFields"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AAGA,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,OAAuE;AAAA;;AAAA,MAApEC,IAAoE,QAApEA,IAAoE;AAAA,MAA9DC,OAA8D,QAA9DA,OAA8D;AAC7G,MAAMC,cAAc,GAAGJ,MAAM,EAA7B;AACAD,EAAAA,SAAS,CAAC,YAAM;AACdK,IAAAA,cAAc,CAACC,OAAf,GAAyBF,OAAzB;AACD,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAGA,MAAMG,WAAW,GAAGF,cAAc,CAACC,OAAnC;AAEAN,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACI,OAAD,IAAYG,WAAhB,EAA6B;AAC3BJ,MAAAA,IAAI,CAACK,WAAL;AACD;AACF,GAJQ,EAIN,CAACJ,OAAD,EAAUD,IAAV,EAAgBI,WAAhB,CAJM,CAAT;AAKD,CAZM;;GAAML,wB","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { FormInstance } from 'antd';\n\nexport const useResetFormOnCloseModal = ({ form, visible }: { form: FormInstance; visible: boolean }): void => {\n  const prevVisibleRef = useRef<boolean>();\n  useEffect(() => {\n    prevVisibleRef.current = visible;\n  }, [visible]);\n  const prevVisible = prevVisibleRef.current;\n\n  useEffect(() => {\n    if (!visible && prevVisible) {\n      form.resetFields();\n    }\n  }, [visible, form, prevVisible]);\n};\n"]},"metadata":{},"sourceType":"module"}