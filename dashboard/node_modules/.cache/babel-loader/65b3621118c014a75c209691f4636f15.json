{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"height\", \"itemHeight\", \"fullHeight\", \"style\", \"data\", \"children\", \"itemKey\", \"virtual\", \"direction\", \"component\", \"onScroll\", \"onVisibleChange\", \"innerProps\"];\nimport * as React from 'react';\nimport { useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport Filler from './Filler';\nimport ScrollBar from './ScrollBar';\nimport useChildren from './hooks/useChildren';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useDiffItem from './hooks/useDiffItem';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nexport function RawList(props, ref) {\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-virtual-list' : _props$prefixCls,\n      className = props.className,\n      height = props.height,\n      itemHeight = props.itemHeight,\n      _props$fullHeight = props.fullHeight,\n      fullHeight = _props$fullHeight === void 0 ? true : _props$fullHeight,\n      style = props.style,\n      data = props.data,\n      children = props.children,\n      itemKey = props.itemKey,\n      virtual = props.virtual,\n      direction = props.direction,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      onScroll = props.onScroll,\n      onVisibleChange = props.onVisibleChange,\n      innerProps = props.innerProps,\n      restProps = _objectWithoutProperties(props, _excluded); // ================================= MISC =================================\n\n\n  var useVirtual = !!(virtual !== false && height && itemHeight);\n  var inVirtual = useVirtual && data && itemHeight * data.length > height;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollTop = _useState2[0],\n      setScrollTop = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scrollMoving = _useState4[0],\n      setScrollMoving = _useState4[1];\n\n  var mergedClassName = classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  var mergedData = data || EMPTY_DATA;\n  var componentRef = useRef();\n  var fillerInnerRef = useRef();\n  var scrollBarRef = useRef(); // Hack on scrollbar to enable flash call\n  // =============================== Item Key ===============================\n\n  var getKey = React.useCallback(function (item) {\n    if (typeof itemKey === 'function') {\n      return itemKey(item);\n    }\n\n    return item === null || item === void 0 ? void 0 : item[itemKey];\n  }, [itemKey]);\n  var sharedConfig = {\n    getKey: getKey\n  }; // ================================ Scroll ================================\n\n  function syncScrollTop(newTop) {\n    setScrollTop(function (origin) {\n      var value;\n\n      if (typeof newTop === 'function') {\n        value = newTop(origin);\n      } else {\n        value = newTop;\n      }\n\n      var alignedTop = keepInRange(value);\n      componentRef.current.scrollTop = alignedTop;\n      return alignedTop;\n    });\n  } // ================================ Legacy ================================\n  // Put ref here since the range is generate by follow\n\n\n  var rangeRef = useRef({\n    start: 0,\n    end: mergedData.length\n  });\n  var diffItemRef = useRef();\n\n  var _useDiffItem = useDiffItem(mergedData, getKey),\n      _useDiffItem2 = _slicedToArray(_useDiffItem, 1),\n      diffItem = _useDiffItem2[0];\n\n  diffItemRef.current = diffItem; // ================================ Height ================================\n\n  var _useHeights = useHeights(getKey, null, null),\n      _useHeights2 = _slicedToArray(_useHeights, 4),\n      setInstanceRef = _useHeights2[0],\n      collectHeight = _useHeights2[1],\n      heights = _useHeights2[2],\n      heightUpdatedMark = _useHeights2[3]; // ========================== Visible Calculation =========================\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!useVirtual) {\n      return {\n        scrollHeight: undefined,\n        start: 0,\n        end: mergedData.length - 1,\n        offset: undefined\n      };\n    } // Always use virtual scroll bar in avoid shaking\n\n\n    if (!inVirtual) {\n      var _fillerInnerRef$curre;\n\n      return {\n        scrollHeight: ((_fillerInnerRef$curre = fillerInnerRef.current) === null || _fillerInnerRef$curre === void 0 ? void 0 : _fillerInnerRef$curre.offsetHeight) || 0,\n        start: 0,\n        end: mergedData.length - 1,\n        offset: undefined\n      };\n    }\n\n    var itemTop = 0;\n    var startIndex;\n    var startOffset;\n    var endIndex;\n    var dataLen = mergedData.length;\n\n    for (var i = 0; i < dataLen; i += 1) {\n      var item = mergedData[i];\n      var key = getKey(item);\n      var cacheHeight = heights.get(key);\n      var currentItemBottom = itemTop + (cacheHeight === undefined ? itemHeight : cacheHeight); // Check item top in the range\n\n      if (currentItemBottom >= scrollTop && startIndex === undefined) {\n        startIndex = i;\n        startOffset = itemTop;\n      } // Check item bottom in the range. We will render additional one item for motion usage\n\n\n      if (currentItemBottom > scrollTop + height && endIndex === undefined) {\n        endIndex = i;\n      }\n\n      itemTop = currentItemBottom;\n    } // When scrollTop at the end but data cut to small count will reach this\n\n\n    if (startIndex === undefined) {\n      startIndex = 0;\n      startOffset = 0;\n      endIndex = Math.ceil(height / itemHeight);\n    }\n\n    if (endIndex === undefined) {\n      endIndex = mergedData.length - 1;\n    } // Give cache to improve scroll experience\n\n\n    endIndex = Math.min(endIndex + 1, mergedData.length);\n    return {\n      scrollHeight: itemTop,\n      start: startIndex,\n      end: endIndex,\n      offset: startOffset\n    };\n  }, [inVirtual, useVirtual, scrollTop, mergedData, heightUpdatedMark, height]),\n      scrollHeight = _React$useMemo.scrollHeight,\n      start = _React$useMemo.start,\n      end = _React$useMemo.end,\n      offset = _React$useMemo.offset;\n\n  rangeRef.current.start = start;\n  rangeRef.current.end = end; // =============================== In Range ===============================\n\n  var maxScrollHeight = scrollHeight - height;\n  var maxScrollHeightRef = useRef(maxScrollHeight);\n  maxScrollHeightRef.current = maxScrollHeight;\n\n  function keepInRange(newScrollTop) {\n    var newTop = newScrollTop;\n\n    if (!Number.isNaN(maxScrollHeightRef.current)) {\n      newTop = Math.min(newTop, maxScrollHeightRef.current);\n    }\n\n    newTop = Math.max(newTop, 0);\n    return newTop;\n  }\n\n  var isScrollAtTop = scrollTop <= 0;\n  var isScrollAtBottom = scrollTop >= maxScrollHeight;\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom); // ================================ Scroll ================================\n\n  function onScrollBar(newScrollTop) {\n    var newTop = newScrollTop;\n    syncScrollTop(newTop);\n  } // When data size reduce. It may trigger native scroll event back to fit scroll position\n\n\n  function onFallbackScroll(e) {\n    var newScrollTop = e.currentTarget.scrollTop;\n\n    if (newScrollTop !== scrollTop) {\n      syncScrollTop(newScrollTop);\n    } // Trigger origin onScroll\n\n\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(e);\n  } // Since this added in global,should use ref to keep update\n\n\n  var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n    syncScrollTop(function (top) {\n      var newTop = top + offsetY;\n      return newTop;\n    });\n  }),\n      _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n      onRawWheel = _useFrameWheel2[0],\n      onFireFoxScroll = _useFrameWheel2[1]; // Mobile touch move\n\n\n  useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n    if (originScroll(deltaY, smoothOffset)) {\n      return false;\n    }\n\n    onRawWheel({\n      preventDefault: function preventDefault() {},\n      deltaY: deltaY\n    });\n    return true;\n  });\n  useLayoutEffect(function () {\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual) {\n        e.preventDefault();\n      }\n    }\n\n    componentRef.current.addEventListener('wheel', onRawWheel);\n    componentRef.current.addEventListener('DOMMouseScroll', onFireFoxScroll);\n    componentRef.current.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n    return function () {\n      if (componentRef.current) {\n        componentRef.current.removeEventListener('wheel', onRawWheel);\n        componentRef.current.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.current.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n  }, [useVirtual]); // ================================= Ref ==================================\n\n  var scrollTo = useScrollTo(componentRef, mergedData, heights, itemHeight, getKey, collectHeight, syncScrollTop, function () {\n    var _scrollBarRef$current;\n\n    (_scrollBarRef$current = scrollBarRef.current) === null || _scrollBarRef$current === void 0 ? void 0 : _scrollBarRef$current.delayHidden();\n  });\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollTo: scrollTo\n    };\n  }); // ================================ Effect ================================\n\n  /** We need told outside that some list not rendered */\n\n  useLayoutEffect(function () {\n    if (onVisibleChange) {\n      var renderList = mergedData.slice(start, end + 1);\n      onVisibleChange(renderList, mergedData);\n    }\n  }, [start, end, mergedData]); // ================================ Render ================================\n\n  var listChildren = useChildren(mergedData, start, end, setInstanceRef, children, sharedConfig);\n  var componentStyle = null;\n\n  if (height) {\n    componentStyle = _objectSpread(_defineProperty({}, fullHeight ? 'height' : 'maxHeight', height), ScrollStyle);\n\n    if (useVirtual) {\n      componentStyle.overflowY = 'hidden';\n\n      if (scrollMoving) {\n        componentStyle.pointerEvents = 'none';\n      }\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      position: 'relative'\n    }),\n    className: mergedClassName\n  }, restProps), /*#__PURE__*/React.createElement(Component, {\n    className: \"\".concat(prefixCls, \"-holder\"),\n    style: componentStyle,\n    ref: componentRef,\n    onScroll: onFallbackScroll\n  }, /*#__PURE__*/React.createElement(Filler, {\n    prefixCls: prefixCls,\n    height: scrollHeight,\n    offset: offset,\n    onInnerResize: collectHeight,\n    ref: fillerInnerRef,\n    innerProps: innerProps\n  }, listChildren)), useVirtual && /*#__PURE__*/React.createElement(ScrollBar, {\n    ref: scrollBarRef,\n    prefixCls: prefixCls,\n    scrollTop: scrollTop,\n    height: height,\n    scrollHeight: scrollHeight,\n    count: mergedData.length,\n    direction: direction,\n    onScroll: onScrollBar,\n    onStartMove: function onStartMove() {\n      setScrollMoving(true);\n    },\n    onStopMove: function onStopMove() {\n      setScrollMoving(false);\n    }\n  }));\n}\nvar List = /*#__PURE__*/React.forwardRef(RawList);\nList.displayName = 'List';\nexport default List;","map":{"version":3,"sources":["/home/tj/fl-carla/dashboard/node_modules/rc-virtual-list/es/List.js"],"names":["_extends","_objectSpread","_defineProperty","_slicedToArray","_objectWithoutProperties","_excluded","React","useRef","useState","classNames","Filler","ScrollBar","useChildren","useHeights","useScrollTo","useDiffItem","useFrameWheel","useMobileTouchMove","useOriginScroll","useLayoutEffect","EMPTY_DATA","ScrollStyle","overflowY","overflowAnchor","RawList","props","ref","_props$prefixCls","prefixCls","className","height","itemHeight","_props$fullHeight","fullHeight","style","data","children","itemKey","virtual","direction","_props$component","component","Component","onScroll","onVisibleChange","innerProps","restProps","useVirtual","inVirtual","length","_useState","_useState2","scrollTop","setScrollTop","_useState3","_useState4","scrollMoving","setScrollMoving","mergedClassName","concat","mergedData","componentRef","fillerInnerRef","scrollBarRef","getKey","useCallback","item","sharedConfig","syncScrollTop","newTop","origin","value","alignedTop","keepInRange","current","rangeRef","start","end","diffItemRef","_useDiffItem","_useDiffItem2","diffItem","_useHeights","_useHeights2","setInstanceRef","collectHeight","heights","heightUpdatedMark","_React$useMemo","useMemo","scrollHeight","undefined","offset","_fillerInnerRef$curre","offsetHeight","itemTop","startIndex","startOffset","endIndex","dataLen","i","key","cacheHeight","get","currentItemBottom","Math","ceil","min","maxScrollHeight","maxScrollHeightRef","newScrollTop","Number","isNaN","max","isScrollAtTop","isScrollAtBottom","originScroll","onScrollBar","onFallbackScroll","e","currentTarget","_useFrameWheel","offsetY","top","_useFrameWheel2","onRawWheel","onFireFoxScroll","deltaY","smoothOffset","preventDefault","onMozMousePixelScroll","addEventListener","removeEventListener","scrollTo","_scrollBarRef$current","delayHidden","useImperativeHandle","renderList","slice","listChildren","componentStyle","pointerEvents","createElement","position","onInnerResize","count","onStartMove","onStopMove","List","forwardRef","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"height\", \"itemHeight\", \"fullHeight\", \"style\", \"data\", \"children\", \"itemKey\", \"virtual\", \"direction\", \"component\", \"onScroll\", \"onVisibleChange\", \"innerProps\"];\nimport * as React from 'react';\nimport { useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport Filler from './Filler';\nimport ScrollBar from './ScrollBar';\nimport useChildren from './hooks/useChildren';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useDiffItem from './hooks/useDiffItem';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nexport function RawList(props, ref) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-virtual-list' : _props$prefixCls,\n    className = props.className,\n    height = props.height,\n    itemHeight = props.itemHeight,\n    _props$fullHeight = props.fullHeight,\n    fullHeight = _props$fullHeight === void 0 ? true : _props$fullHeight,\n    style = props.style,\n    data = props.data,\n    children = props.children,\n    itemKey = props.itemKey,\n    virtual = props.virtual,\n    direction = props.direction,\n    _props$component = props.component,\n    Component = _props$component === void 0 ? 'div' : _props$component,\n    onScroll = props.onScroll,\n    onVisibleChange = props.onVisibleChange,\n    innerProps = props.innerProps,\n    restProps = _objectWithoutProperties(props, _excluded);\n  // ================================= MISC =================================\n  var useVirtual = !!(virtual !== false && height && itemHeight);\n  var inVirtual = useVirtual && data && itemHeight * data.length > height;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    scrollTop = _useState2[0],\n    setScrollTop = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    scrollMoving = _useState4[0],\n    setScrollMoving = _useState4[1];\n  var mergedClassName = classNames(prefixCls, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n  var mergedData = data || EMPTY_DATA;\n  var componentRef = useRef();\n  var fillerInnerRef = useRef();\n  var scrollBarRef = useRef(); // Hack on scrollbar to enable flash call\n  // =============================== Item Key ===============================\n  var getKey = React.useCallback(function (item) {\n    if (typeof itemKey === 'function') {\n      return itemKey(item);\n    }\n    return item === null || item === void 0 ? void 0 : item[itemKey];\n  }, [itemKey]);\n  var sharedConfig = {\n    getKey: getKey\n  };\n  // ================================ Scroll ================================\n  function syncScrollTop(newTop) {\n    setScrollTop(function (origin) {\n      var value;\n      if (typeof newTop === 'function') {\n        value = newTop(origin);\n      } else {\n        value = newTop;\n      }\n      var alignedTop = keepInRange(value);\n      componentRef.current.scrollTop = alignedTop;\n      return alignedTop;\n    });\n  }\n  // ================================ Legacy ================================\n  // Put ref here since the range is generate by follow\n  var rangeRef = useRef({\n    start: 0,\n    end: mergedData.length\n  });\n  var diffItemRef = useRef();\n  var _useDiffItem = useDiffItem(mergedData, getKey),\n    _useDiffItem2 = _slicedToArray(_useDiffItem, 1),\n    diffItem = _useDiffItem2[0];\n  diffItemRef.current = diffItem;\n  // ================================ Height ================================\n  var _useHeights = useHeights(getKey, null, null),\n    _useHeights2 = _slicedToArray(_useHeights, 4),\n    setInstanceRef = _useHeights2[0],\n    collectHeight = _useHeights2[1],\n    heights = _useHeights2[2],\n    heightUpdatedMark = _useHeights2[3];\n  // ========================== Visible Calculation =========================\n  var _React$useMemo = React.useMemo(function () {\n      if (!useVirtual) {\n        return {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.length - 1,\n          offset: undefined\n        };\n      }\n      // Always use virtual scroll bar in avoid shaking\n      if (!inVirtual) {\n        var _fillerInnerRef$curre;\n        return {\n          scrollHeight: ((_fillerInnerRef$curre = fillerInnerRef.current) === null || _fillerInnerRef$curre === void 0 ? void 0 : _fillerInnerRef$curre.offsetHeight) || 0,\n          start: 0,\n          end: mergedData.length - 1,\n          offset: undefined\n        };\n      }\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.length;\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = mergedData[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n        var currentItemBottom = itemTop + (cacheHeight === undefined ? itemHeight : cacheHeight);\n        // Check item top in the range\n        if (currentItemBottom >= scrollTop && startIndex === undefined) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (currentItemBottom > scrollTop + height && endIndex === undefined) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // When scrollTop at the end but data cut to small count will reach this\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n        endIndex = Math.ceil(height / itemHeight);\n      }\n      if (endIndex === undefined) {\n        endIndex = mergedData.length - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, mergedData.length);\n      return {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      };\n    }, [inVirtual, useVirtual, scrollTop, mergedData, heightUpdatedMark, height]),\n    scrollHeight = _React$useMemo.scrollHeight,\n    start = _React$useMemo.start,\n    end = _React$useMemo.end,\n    offset = _React$useMemo.offset;\n  rangeRef.current.start = start;\n  rangeRef.current.end = end;\n  // =============================== In Range ===============================\n  var maxScrollHeight = scrollHeight - height;\n  var maxScrollHeightRef = useRef(maxScrollHeight);\n  maxScrollHeightRef.current = maxScrollHeight;\n  function keepInRange(newScrollTop) {\n    var newTop = newScrollTop;\n    if (!Number.isNaN(maxScrollHeightRef.current)) {\n      newTop = Math.min(newTop, maxScrollHeightRef.current);\n    }\n    newTop = Math.max(newTop, 0);\n    return newTop;\n  }\n  var isScrollAtTop = scrollTop <= 0;\n  var isScrollAtBottom = scrollTop >= maxScrollHeight;\n  var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n  // ================================ Scroll ================================\n  function onScrollBar(newScrollTop) {\n    var newTop = newScrollTop;\n    syncScrollTop(newTop);\n  }\n  // When data size reduce. It may trigger native scroll event back to fit scroll position\n  function onFallbackScroll(e) {\n    var newScrollTop = e.currentTarget.scrollTop;\n    if (newScrollTop !== scrollTop) {\n      syncScrollTop(newScrollTop);\n    }\n    // Trigger origin onScroll\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(e);\n  }\n  // Since this added in global,should use ref to keep update\n  var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n      syncScrollTop(function (top) {\n        var newTop = top + offsetY;\n        return newTop;\n      });\n    }),\n    _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n    onRawWheel = _useFrameWheel2[0],\n    onFireFoxScroll = _useFrameWheel2[1];\n  // Mobile touch move\n  useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n    if (originScroll(deltaY, smoothOffset)) {\n      return false;\n    }\n    onRawWheel({\n      preventDefault: function preventDefault() {},\n      deltaY: deltaY\n    });\n    return true;\n  });\n  useLayoutEffect(function () {\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual) {\n        e.preventDefault();\n      }\n    }\n    componentRef.current.addEventListener('wheel', onRawWheel);\n    componentRef.current.addEventListener('DOMMouseScroll', onFireFoxScroll);\n    componentRef.current.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n    return function () {\n      if (componentRef.current) {\n        componentRef.current.removeEventListener('wheel', onRawWheel);\n        componentRef.current.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.current.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n  }, [useVirtual]);\n  // ================================= Ref ==================================\n  var scrollTo = useScrollTo(componentRef, mergedData, heights, itemHeight, getKey, collectHeight, syncScrollTop, function () {\n    var _scrollBarRef$current;\n    (_scrollBarRef$current = scrollBarRef.current) === null || _scrollBarRef$current === void 0 ? void 0 : _scrollBarRef$current.delayHidden();\n  });\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollTo: scrollTo\n    };\n  });\n  // ================================ Effect ================================\n  /** We need told outside that some list not rendered */\n  useLayoutEffect(function () {\n    if (onVisibleChange) {\n      var renderList = mergedData.slice(start, end + 1);\n      onVisibleChange(renderList, mergedData);\n    }\n  }, [start, end, mergedData]);\n  // ================================ Render ================================\n  var listChildren = useChildren(mergedData, start, end, setInstanceRef, children, sharedConfig);\n  var componentStyle = null;\n  if (height) {\n    componentStyle = _objectSpread(_defineProperty({}, fullHeight ? 'height' : 'maxHeight', height), ScrollStyle);\n    if (useVirtual) {\n      componentStyle.overflowY = 'hidden';\n      if (scrollMoving) {\n        componentStyle.pointerEvents = 'none';\n      }\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      position: 'relative'\n    }),\n    className: mergedClassName\n  }, restProps), /*#__PURE__*/React.createElement(Component, {\n    className: \"\".concat(prefixCls, \"-holder\"),\n    style: componentStyle,\n    ref: componentRef,\n    onScroll: onFallbackScroll\n  }, /*#__PURE__*/React.createElement(Filler, {\n    prefixCls: prefixCls,\n    height: scrollHeight,\n    offset: offset,\n    onInnerResize: collectHeight,\n    ref: fillerInnerRef,\n    innerProps: innerProps\n  }, listChildren)), useVirtual && /*#__PURE__*/React.createElement(ScrollBar, {\n    ref: scrollBarRef,\n    prefixCls: prefixCls,\n    scrollTop: scrollTop,\n    height: height,\n    scrollHeight: scrollHeight,\n    count: mergedData.length,\n    direction: direction,\n    onScroll: onScrollBar,\n    onStartMove: function onStartMove() {\n      setScrollMoving(true);\n    },\n    onStopMove: function onStopMove() {\n      setScrollMoving(false);\n    }\n  }));\n}\nvar List = /*#__PURE__*/React.forwardRef(RawList);\nList.displayName = 'List';\nexport default List;"]},"metadata":{},"sourceType":"module"}