{"ast":null,"code":"import _asyncToGenerator from \"/home/tj/fl-carla/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/home/tj/fl-carla/dashboard/node_modules/@babel/runtime/regenerator/index.js\";\nimport { Dates } from '@app/constants/Dates';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nvar localLanguage = localStorage.getItem('lng') || 'en';\nexport var useLanguage = function useLanguage() {\n  _s();\n\n  var _useTranslation = useTranslation(),\n      i18n = _useTranslation.i18n;\n\n  var handleChangeLanguage = useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(locale) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Dates.setLocale(locale);\n              localStorage.setItem('lng', locale);\n              _context.next = 4;\n              return i18n.changeLanguage(locale);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [i18n]);\n  useEffect(function () {\n    localLanguage && handleChangeLanguage(localLanguage);\n  }, [handleChangeLanguage]);\n  return useMemo(function () {\n    return {\n      language: i18n.language,\n      setLanguage: handleChangeLanguage\n    };\n  }, [handleChangeLanguage, i18n.language]);\n};\n\n_s(useLanguage, \"fDGGfqgEoqe3wo6ModKTk4Jwm78=\", false, function () {\n  return [useTranslation];\n});","map":{"version":3,"sources":["/home/tj/fl-carla/dashboard/src/hooks/useLanguage.ts"],"names":["Dates","useCallback","useEffect","useMemo","useTranslation","localLanguage","localStorage","getItem","useLanguage","i18n","handleChangeLanguage","locale","setLocale","setItem","changeLanguage","language","setLanguage"],"mappings":";;;;;AAAA,SAASA,KAAT,QAAsB,sBAAtB;AAEA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,QAAgD,OAAhD;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,IAAMC,aAAa,GAAIC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAD,IAAiD,IAAvE;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAwF;AAAA;;AACjH,wBAAiBJ,cAAc,EAA/B;AAAA,MAAQK,IAAR,mBAAQA,IAAR;;AAEA,MAAMC,oBAAoB,GAAGT,WAAW;AAAA,wEACtC,iBAAOU,MAAP;AAAA;AAAA;AAAA;AAAA;AACEX,cAAAA,KAAK,CAACY,SAAN,CAAgBD,MAAhB;AACAL,cAAAA,YAAY,CAACO,OAAb,CAAqB,KAArB,EAA4BF,MAA5B;AAFF;AAAA,qBAGQF,IAAI,CAACK,cAAL,CAAoBH,MAApB,CAHR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADsC;;AAAA;AAAA;AAAA;AAAA,OAMtC,CAACF,IAAD,CANsC,CAAxC;AASAP,EAAAA,SAAS,CAAC,YAAM;AACdG,IAAAA,aAAa,IAAIK,oBAAoB,CAACL,aAAD,CAArC;AACD,GAFQ,EAEN,CAACK,oBAAD,CAFM,CAAT;AAIA,SAAOP,OAAO,CACZ;AAAA,WAAO;AAAEY,MAAAA,QAAQ,EAAEN,IAAI,CAACM,QAAjB;AAA2CC,MAAAA,WAAW,EAAEN;AAAxD,KAAP;AAAA,GADY,EAEZ,CAACA,oBAAD,EAAuBD,IAAI,CAACM,QAA5B,CAFY,CAAd;AAID,CApBM;;GAAMP,W;UACMJ,c","sourcesContent":["import { Dates } from '@app/constants/Dates';\nimport { LanguageType } from '@app/interfaces/interfaces';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst localLanguage = (localStorage.getItem('lng') as LanguageType) || 'en';\n\nexport const useLanguage = (): { language: LanguageType; setLanguage: (locale: LanguageType) => Promise<void> } => {\n  const { i18n } = useTranslation();\n\n  const handleChangeLanguage = useCallback(\n    async (locale: LanguageType) => {\n      Dates.setLocale(locale);\n      localStorage.setItem('lng', locale);\n      await i18n.changeLanguage(locale);\n    },\n    [i18n],\n  );\n\n  useEffect(() => {\n    localLanguage && handleChangeLanguage(localLanguage);\n  }, [handleChangeLanguage]);\n\n  return useMemo(\n    () => ({ language: i18n.language as LanguageType, setLanguage: handleChangeLanguage }),\n    [handleChangeLanguage, i18n.language],\n  );\n};\n"]},"metadata":{},"sourceType":"module"}